!function n(t,r,e){function o(u,a){if(!r[u]){if(!t[u]){var l="function"==typeof require&&require;if(!a&&l)return l(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[u]={exports:{}};t[u][0].call(f.exports,function(n){var r=t[u][1][n];return o(r?r:n)},f,f.exports,n,t,r,e)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<e.length;u++)o(e[u]);return o}({1:[function(n,t,r){var e,o,i,u,a,l,s,f,c,p,h,y,v,d,m,x,w,g,C,P,b,M,O;w=["MAX","MIN"],o=w[0],i=w[1],g=[0,1,2],l=g[0],a=g[1],u=g[2],f=[l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l],b=function(){var n,t,r,e,o,i,u,a,l,s;for(s=[],n=e=0;e<4;n=++e){for(t=o=0;o<6;t=++o)r=n+7*t,s.push([r,r+1,r+2,r+3]);for(t=i=0;i<3;t=++i)r=n+7*t,s.push([r,r+7+1,r+14+2,r+21+3])}for(t=u=0;u<3;t=++u){for(n=a=0;a<7;n=++a)r=n+7*t,s.push([r,r+7,r+14,r+21]);for(n=l=3;l<7;n=++l)r=n+7*t,s.push([r,r+7-1,r+14-2,r+21-3])}return s.sort(function(n,t){return Math.min.apply(Math,t)-Math.min.apply(Math,n)})}(),M=function(n){var t,r,e,o,i,u,a,s,f;for(i=0,u=b.length;i<u;i++)if(a=b[i],t=a[0],r=a[1],e=a[2],o=a[3],n[t]!==l&&n[t]===(f=n[r])&&f===(s=n[e])&&s===n[o])return n[t];return null},v=function(n,t){return M(n)===t},O=function(n,t){var r,e,o,i,u,a;return r=t[0],e=t[1],o=t[2],i=t[3],n[r]!==l&&n[r]===(a=n[e])&&a===(u=n[o])&&u===n[i]},P=function(n){var t,r,e;for(r=0,e=b.length;r<e;r++)if(t=b[r],O(n,t))return t;return[]},h=function(n){var t,r;for(t=r=0;r<7;t=++r)if(n[t]===l)return!1;return!0},y=function(n){return h(n)||!!M(n)},d=function(n){var t,r,e;for(e=[],t=r=0;r<7;t=++r)n[t]===l&&e.push(t);return e},p=function(n){var t,r,e;for(e=[],t=r=0;r<42;t=++r)n[t]===l&&e.push(t);return e},m=function(n,t){var r,e,o;for(o=e=5;e>=0;o=--e)if(r=7*o+t,n[r]===l)return r},s=function(n){var t,r;for(r=42,t=new Array(r);r--;)t[r]=n[r];return t},x=function(n,t,r){var e,o;return o=m(n,t),e=s(n),e[o]=r,e},C=[1,10,100,1e3,1e4],c=function(n){var t,r,e,o,i,l,s,f,c,p;for(c=0,e=0,o=b.length;e<o;e++){for(r=b[e],f=[0,0],p=f[0],s=f[1],l=0,i=r.length;l<i;l++)t=r[l],n[t]===a&&++p,n[t]===u&&++s;0!==p&&0!==s||(c+=C[p]-C[s])}return c},e=function(){function n(n,t,r){this.a=null!=n?n:f,this.nextPlayer=null!=t?t:a,this.depth=null!=r?r:0}return n.prototype.isWin=function(n){return v(this.a,n)},n.prototype.winOn=function(){return P(this.a)},n.prototype.winner=function(){return M(this.a)},n.prototype.isTerminal=function(){return this.depth>=7&&y(this.a)},n.prototype.nextAgent=function(){return this.nextPlayer===a?o:i},n.prototype.utility=function(){return c(this.a)},n.prototype.freePositions=function(){return p(this.a)},n.prototype.openPosition=function(n){return m(this.a,n)},n.prototype.possibleActions=function(){return d(this.a)},n.prototype.play=function(n){return new this.constructor(x(this.a,n,this.nextPlayer),this.opponent(),this.depth+1)},n.prototype.opponent=function(){return this.nextPlayer===a?u:a},n}(),t.exports={_:l,X:a,O:u,empty:f,winner:M,isWin:v,winOn:P,isFull:h,isTerminal:y,freePositions:p,openColumns:d,openPosition:m,play:x,evaluate:c,ConnectFour:e}},{}],2:[function(n,t,r){var e,o,i,u,a,l,s,f;e=jQuery,l=n("./connect-four"),u=l.X,i=l.O,o=l.ConnectFour,s=n("./spinner"),f=s.showSpinner,a=s.hideSpinner,e(function(){var n,t,r,l,s,c,p,h,y,v,d,m,x,w,g,C,P,b,M;return s=null,p=null,m=function(){var n,t,r,o,i;for(n=s.nextPlayer===u?"x-playable-tile":"o-playable-tile",i=s.freePositions(),r=0,o=i.length;r<o;r++)t=i[r],e("#"+t).addClass(n);return n},M=function(){return e(".tile").removeClass("x-playable-tile").removeClass("o-playable-tile").removeClass("human-playable-tile").off("click")},h=function(){var n,t,r,o,i,a;for(o=s.winOn(),i=[],t=0,r=o.length;t<r;t++)n=o[t],a=s.isWin(u)?"x-won-tile":"o-won-tile",i.push(e("#"+n).addClass(a));return i},n=function(){var n;return!!s.isTerminal()&&(n=function(){switch(!1){case!s.isWin(u):return"Green Wins!";case!s.isWin(i):return"Red Wins!";default:return"Draw!"}}(),e("#end-text").text(n),e("#modal-game-over").modal("show"),!0)},d=function(n){var t,r,o;return t=n%7,a(),r=s.openPosition(t),o=s.nextPlayer===u?"x":"o",e("#"+r).addClass(o+"-tile"),s=s.play(n),p=n,v()},w=null,x=null,v=function(){var n;return M(),h(),n=s.nextPlayer===u?w:x,n.play()},g={human:function(){return c()},"starter AI":function(){return t(3)},"smart AI":function(){return t(4)}},l=function(){var n;return n=e("#btn-player-x").text(),g[n]()},r=function(){var n;return n=e("#btn-player-o").text(),g[n]()},P=function(){var n,t,r;return t=e("#btn-player-x"),n=e("#btn-player-o"),r=t.text(),t.text(n.text()),n.text(r)},e(".player").on("click",function(){var n,t,r,o,i;if(t=e(this),o=t.data("player-for"),n=e("#btn-player-"+o),i=t.text(),r=n.text(),r!==i)return n.text(i),C()}),c=function(){var t;return t=function(n){return parseInt(n,10)},{setup:function(n){return n()},play:function(){var r;if(!n())return r=m(),e("."+r).addClass("human-playable-tile").on("click",function(){var n,r;return n=e(this),r=t(n.get(0).id),d(r)})}}},t=function(t){var r;return null==t&&(t=3),r=new Worker("src/minimax-worker.min.js"),{setup:function(n){return r.onmessage=function(n){return d(n.data.action)},r.postMessage({command:"setup",args:{depth:t}}),n()},play:function(){if(!n())return m(),f(),r.postMessage({command:"play",args:{lastAction:p}})},teardown:function(){return r.terminate()}}},C=function(){var n;return b(),s=new o,s.lastPlayedPosition=null,p=null,n=[l(),r()],w=n[0],x=n[1],w.setup(function(){return x.setup(function(){return v()})})},b=function(){return null!=w&&"function"==typeof w.teardown&&w.teardown(),null!=x&&"function"==typeof x.teardown&&x.teardown(),a(),e(".tile").removeClass("x-tile").removeClass("o-tile").removeClass("x-won-tile").removeClass("o-won-tile")},y=function(){return P(),C()},e("#btn-new-game").on("click",y),C()})},{"./connect-four":1,"./spinner":3}],3:[function(n,t,r){var e,o,i,u,a,l;e=jQuery,u=new Spinner({lines:9,radius:7,length:7}),l=null,a=100,i=function(){var n;if(null==l)return n=e("#spinner").get(0),l=setTimeout(function(){return u.spin(n)},a)},o=function(){return null!=l&&clearTimeout(l),u.stop(),l=null},t.exports={showSpinner:i,hideSpinner:o}},{}]},{},[2]);
//# sourceMappingURL=index.min.js.map
